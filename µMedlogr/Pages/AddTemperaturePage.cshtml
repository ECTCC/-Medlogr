@page
@model µMedlogr.Pages.AddTemperaturePage
@{
    ViewData["Title"] = Model.Nickname;
}
<div class="container">
@* Show List with TemperatureData *@
<!-- #region TemperatureList -->
  <div class="row">
    <table>
            @foreach (var temperature in Model.Temperatures) {
                <tr>
                  <td>@temperature.TimeOfMeasurement</td>
                  <td>@temperature.Measurement</td>
                  <td>@temperature.Comments</td>
                </tr>
            }
        </table>
  </div>
<!-- #endregion -->
@*   A form for Adding new Temperature Measurements *@
<!-- #region Temperatureform -->
  <div class="row">
        <form asp-page-handler="AddTemperature" method="post" enctype="multipart/form-data">
            <input type="hidden" name="" value="" />
            <div class="form-group">
                <label asp-for="NewTemperature" class="form-label">Uppmätt temperatur</label>
                <input asp-for="NewTemperature" class="form-range" id="thermometer-value" type ="range" list="thermometer-markers" min="30" max="45" step="0.1"/>
                <p class="form-label">Temperatur: <output id="temperature-value"></output>°C</p>
            </div>
            <div class="form-group">
                <label asp-for="Notes" class="form-label">Anteckningar</label>
                <textarea asp-for="Notes" class="form-control" cols="40" rows="1" placeholder="Övrigt"></textarea>
            </div>
            <input type="submit" class="btn btn-success" value="Lägg till temperaturmätning">
        </form>
  </div>
<!-- #endregion -->
</div>

<datalist id="thermometer-markers">
    <option value="30"></option>
    <option value="32.5"></option>
    <option value="35"></option>
    <option value="37.5"></option>
    <option value="40"></option>
    <option value="42.5"></option>
    <option value="45"></option>
</datalist>
<script>
    const value = document.querySelector("#temperature-value");
    const input = document.querySelector("#thermometer-value");
    value.textContent = input.value;
    input.addEventListener("input", (event) => {
        value.textContent = event.target.value;
    });

</script>